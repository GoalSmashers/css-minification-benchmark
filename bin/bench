#!/usr/bin/env node
var fs = require('fs');
var bench = require('../lib/bench');

// mock it to drop output from ncss
var output = process.stdout.write.bind(process.stdout);
process.stdout.write = function() {};

// ARGUMENTS
var only = process.argv.indexOf('--only') > -1 ?
  new RegExp('.*(' + process.argv[process.argv.indexOf('--only') + 1].replace(/,/g, '|') + ').*') :
  /.+/;

var input = fs.readdirSync('data');

bench({
  only: only,
  asHTML: process.argv.indexOf('--html') > -1,
  total: process.argv.indexOf('--total') > -1,
  gzip: process.argv.indexOf('--gzip') > -1
}, input, output);
